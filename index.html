<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Link Generator</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    text-align:center;
    background: linear-gradient(135deg,#ff4e8a,#ff9a9e);
    color:white;
    overflow:hidden;
}

.page{ display:none; padding:40px 20px; }
.active{ display:block; }

h1{ font-size:36px; margin-bottom:10px; }
.small{ font-size:14px; opacity:0.9; }

.inputs{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:15px;
    margin-top:20px;
}

input{
    padding:10px;
    border-radius:8px;
    border:none;
    width:250px;
}

button{
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
    margin:5px;
}

.generate{ background:white; color:#ff4e8a; }
.copy{ background:gold; }
.new{ background:#fff; color:#ff4e8a; }

.yes{ background:#4CAF50; color:white; }
.no{ background:red; color:white; position:relative; }

.card{
    background:white;
    color:#ff4e8a;
    padding:40px;
    border-radius:25px;
    width:85%;
    max-width:500px;
    margin:60px auto;
    box-shadow:0 0 30px rgba(255,255,255,0.7);
}

.glow{
    font-size:70px;
    animation: glow 1s infinite alternate;
}

@keyframes glow{
    from{ text-shadow:0 0 10px #fff; }
    to{ text-shadow:0 0 30px yellow; }
}

.ball{
    position:fixed;
    top:-20px;
    width:10px;
    height:10px;
    border-radius:50%;
    animation: fall linear infinite;
}

@keyframes fall{
    to{ transform:translateY(100vh); }
}
</style>
</head>
<body>

<!-- PAGE 1 -->
<div class="page active" id="page1">
<h1>Valentine Link Generator</h1>
<div class="small">Create personalized Valentine's Day proposals!</div>

<div class="inputs">
<input type="text" id="yourName" placeholder="Enter Your Name">
<input type="text" id="valName" placeholder="Enter Valentine Name">
<button class="generate" onclick="generateLink()">Generate Link to Share</button>
<input type="text" id="outputLink" readonly>
<button class="copy" onclick="copyLink()">Copy Link</button>
<button class="new" onclick="resetPage()">Create Another Link</button>
</div>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
<h1 id="valNameDisplay"></h1>
<h2>Will you be my Valentine?</h2>
<button class="yes" onclick="showFinal()">Yes</button>
<button class="no" id="noBtn">No</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
<div class="card">
<h1>YAY ðŸ’–</h1>
<div class="glow">ðŸ’–</div>
<div class="small" id="happyMsg"></div>
</div>
</div>

<script>
function generateLink(){
    let your=document.getElementById("yourName").value;
    let val=document.getElementById("valName").value;

    let link=window.location.href.split("?")[0] +
    "?your="+encodeURIComponent(your)+"&val="+encodeURIComponent(val);

    document.getElementById("outputLink").value=link;
}

function copyLink(){
    let copyText=document.getElementById("outputLink");
    copyText.select();
    document.execCommand("copy");
    alert("Link Copied ðŸ’–");
}

function resetPage(){
    window.location.href=window.location.href.split("?")[0];
}

function getParams(){
    let params=new URLSearchParams(window.location.search);
    return{
        your:params.get("your"),
        val:params.get("val")
    };
}

window.onload=function(){
    let data=getParams();
    if(data.val){
        document.getElementById("page1").classList.remove("active");
        document.getElementById("page2").classList.add("active");
        document.getElementById("valNameDisplay").innerText=data.val;
    }
};

document.getElementById("noBtn").addEventListener("mouseover",function(){
    this.style.position="absolute";
    this.style.top=Math.random()*300+"px";
    this.style.left=Math.random()*300+"px";
});

function showFinal(){
    let data=getParams();
    document.getElementById("page2").classList.remove("active");
    document.getElementById("page3").classList.add("active");
    document.getElementById("happyMsg").innerText=data.your+" will be so happy!";
    createBalls();
}

function createBalls(){
    for(let i=0;i<40;i++){
        let ball=document.createElement("div");
        ball.classList.add("ball");
        ball.style.left=Math.random()*window.innerWidth+"px";
        ball.style.background=Math.random()>0.5?"yellow":"red";
        ball.style.boxShadow="0 0 10px white";
        ball.style.animationDuration=(Math.random()*3+2)+"s";
        document.body.appendChild(ball);
    }
}
</script>

</body>
</html>
